var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire5040;function o(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequire5040=n);const i=document.querySelector(".order-list"),a=o("order");function l(e){if(e&&0!==e.length){let t=function(e){let t=e.map(e=>`<li class="foods-item-card"> <img class= "img-card" src="${e.img}" alt="${e.name}" loading="lazy"/> <div class ="wrap"> <p data-id="${e.id}">${e.name}</p>
            <p>Price: <span class = "price">${e.price}</span>$</p> </div>  <div class="counter">
        <button type="button" data-action="decrement">-</button> <span class="counter-value">${e.count}</span>
          <button type="button" data-action="increment">+</button>
      </div> <button class="delete-btn" type="button" data-action="delete">X</button></li>`).join("");return t}(e);i.innerHTML=t}e&&0!==e.length||(i.innerHTML="<li><p>Your shopping cart is empty</p></li>")}l(a);const c=document.querySelector(".totalprice"),u=document.querySelector(".totalprice-text");function s(e){if(e){let t=e.reduce((e,t)=>{let r=e+Number(t.price)*Number(t.count);return parseFloat(r.toFixed(2))},0);c.innerHTML=t,u.style.display="block",0===t&&(u.style.display="none")}else u.style.display="none"}s(a),document.querySelector(".order-list");let d=o("order");const f=document.querySelector(".order-list");f.addEventListener("click",function(e){let t=e.target,r=t.closest("li"),n=r.querySelector("p[data-id]").getAttribute("data-id"),o=d.findIndex(e=>e.id===n);if("BUTTON"===t.tagName&&t.parentElement.classList.contains("counter")){let e=t.parentElement.querySelector(".counter-value"),r=parseInt(e.textContent);"increment"===t.dataset.action?(r++,d[o].count+=1,localStorage.setItem("order",JSON.stringify(d)),s(d)):"decrement"===t.dataset.action&&r>1&&(r--,d[o].count-=1,localStorage.setItem("order",JSON.stringify(d)),s(d)),e.textContent=r}if("BUTTON"===t.tagName&&"delete"===t.dataset.action){let e=d.filter(e=>e.id!==n);d=[...e],localStorage.setItem("order",JSON.stringify(d)),l(d),s(d),0===d.length&&localStorage.removeItem("order")}});var p=(n("iQIUW"),n("iQIUW")),m={},g="Expected a function",y=0/0,v=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,T=/^0o[0-7]+$/i,h=parseInt,N="object"==typeof e&&e&&e.Object===Object&&e,O="object"==typeof self&&self&&self.Object===Object&&self,x=N||O||Function("return this")(),I=Object.prototype.toString,j=Math.max,E=Math.min,$=function(){return x.Date.now()};function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==I.call(t))return y;if(q(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=q(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(v,"");var n=S.test(e);return n||T.test(e)?h(e.slice(2),n?2:8):b.test(e)?y:+e}m=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw TypeError(g);return q(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),function(e,t,r){var n,o,i,a,l,c,u=0,s=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError(g);function p(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function m(e){var r=e-c,n=e-u;return void 0===c||r>=t||r<0||d&&n>=i}function y(){var e,r,n,o=$();if(m(o))return v(o);l=setTimeout(y,(e=o-c,r=o-u,n=t-e,d?E(n,i-r):n))}function v(e){return(l=void 0,f&&n)?p(e):(n=o=void 0,a)}function b(){var e,r=$(),i=m(r);if(n=arguments,o=this,c=r,i){if(void 0===l)return u=e=c,l=setTimeout(y,t),s?p(e):a;if(d)return l=setTimeout(y,t),p(c)}return void 0===l&&(l=setTimeout(y,t)),a}return t=w(t)||0,q(r)&&(s=!!r.leading,i=(d="maxWait"in r)?j(w(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),b.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=c=o=l=void 0},b.flush=function(){return void 0===l?a:v($())},b}(e,t,{leading:n,maxWait:t,trailing:o})};const L=document.querySelector(".shopping-cart-form"),M=(function(e){return e&&e.__esModule?e.default:e})(m)(function(e){J[e.target.name]=e.target.value,localStorage.setItem(U,JSON.stringify(J))},500),U="feedback-form-state";let J={};const k=o("history");let A=[];k&&(A=Array.isArray(k)?[...k]:[k]),L.addEventListener("input",M),L.addEventListener("submit",function(e){if(e.preventDefault(),o("order")||(0,p.Notify).failure("Please add items to cart"),function(e){let t=!0;for(let r=0;r<e.elements.length;r++){let n=e.elements[r];if("INPUT"===n.tagName||"TEXTAREA"===n.tagName){let e=n.value.trim();if(""===e){t=!1;break}}}return!!t||((0,p.Notify).failure("Please fill in all the fields!"),!1)}(e.currentTarget)&&o("order")){let t=o(U);t.order=o("order").map(e=>[e.id,e.shop]),console.log(t),e.currentTarget.reset();let r={login:t.email};r.order=o("order").map(e=>[e.img,e.name,e.price]),A.shift(r),localStorage.setItem("history",JSON.stringify(A)),localStorage.removeItem(U),localStorage.removeItem("order"),J={},i.innerHTML="",u.style.display="none"}}),localStorage.getItem(U)&&function(e,t){let r=Object.keys(e);for(let n of r)t.elements[n].value=e[n]}(J=o(U),L);
//# sourceMappingURL=shopping-cart.0f62beb0.js.map
