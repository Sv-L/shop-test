!function(){var e,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire5040;function i(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}}null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire5040=o);let a=document.querySelector(".order-list"),l=i("order");function c(e){if(e&&0!==e.length){let t=function(e){let t=e.map(e=>`<li class="foods-item-card"> <img class= "img-card" src="${e.img}" alt="${e.name}" loading="lazy"/> <div class ="wrap"> <p data-id="${e.id}">${e.name}</p>
            <p>Price: <span class = "price">${e.price}</span>$</p> </div>  <div class="counter">
        <button type="button" data-action="decrement">-</button> <span class="counter-value">${e.count}</span>
          <button type="button" data-action="increment">+</button>
      </div> <button class="delete-btn" type="button" data-action="delete">X</button></li>`).join("");return t}(e);a.innerHTML=t}e&&0!==e.length||(a.innerHTML="<li><p>Your shopping cart is empty</p></li>")}c(l);let u=document.querySelector(".totalprice"),s=document.querySelector(".totalprice-text");function d(e){if(e){let t=e.reduce((e,t)=>{let r=e+Number(t.price)*Number(t.count);return parseFloat(r.toFixed(2))},0);u.innerHTML=t,s.style.display="block",0===t&&(s.style.display="none")}else s.style.display="none"}d(l),document.querySelector(".order-list");let f=i("order"),p=document.querySelector(".order-list");p.addEventListener("click",function(e){let t=e.target,r=t.closest("li"),n=r.querySelector("p[data-id]").getAttribute("data-id"),o=f.findIndex(e=>e.id===n);if("BUTTON"===t.tagName&&t.parentElement.classList.contains("counter")){let e=t.parentElement.querySelector(".counter-value"),r=parseInt(e.textContent);"increment"===t.dataset.action?(r++,f[o].count+=1,localStorage.setItem("order",JSON.stringify(f)),d(f)):"decrement"===t.dataset.action&&r>1&&(r--,f[o].count-=1,localStorage.setItem("order",JSON.stringify(f)),d(f)),e.textContent=r}if("BUTTON"===t.tagName&&"delete"===t.dataset.action){let e=f.filter(e=>e.id!==n);f=[...e],localStorage.setItem("order",JSON.stringify(f)),c(f),d(f),0===f.length&&localStorage.removeItem("order")}});var m=(o("h6c0i"),o("h6c0i")),g={},y="Expected a function",v=0/0,b=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,T=/^0o[0-7]+$/i,N=parseInt,O="object"==typeof t&&t&&t.Object===Object&&t,x="object"==typeof self&&self&&self.Object===Object&&self,I=O||x||Function("return this")(),j=Object.prototype.toString,E=Math.max,$=Math.min,q=function(){return I.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==j.call(t))return v;if(w(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(b,"");var n=h.test(e);return n||T.test(e)?N(e.slice(2),n?2:8):S.test(e)?v:+e}g=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw TypeError(y);return w(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),function(e,t,r){var n,o,i,a,l,c,u=0,s=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError(y);function p(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function m(e){var r=e-c,n=e-u;return void 0===c||r>=t||r<0||d&&n>=i}function g(){var e,r,n,o=q();if(m(o))return v(o);l=setTimeout(g,(e=o-c,r=o-u,n=t-e,d?$(n,i-r):n))}function v(e){return(l=void 0,f&&n)?p(e):(n=o=void 0,a)}function b(){var e,r=q(),i=m(r);if(n=arguments,o=this,c=r,i){if(void 0===l)return u=e=c,l=setTimeout(g,t),s?p(e):a;if(d)return l=setTimeout(g,t),p(c)}return void 0===l&&(l=setTimeout(g,t)),a}return t=L(t)||0,w(r)&&(s=!!r.leading,i=(d="maxWait"in r)?E(L(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),b.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=c=o=l=void 0},b.flush=function(){return void 0===l?a:v(q())},b}(e,t,{leading:n,maxWait:t,trailing:o})};let M=document.querySelector(".shopping-cart-form"),J=((e=g)&&e.__esModule?e.default:e)(function(e){A[e.target.name]=e.target.value,localStorage.setItem(k,JSON.stringify(A))},500),k="feedback-form-state",A={},U=i("history"),D=[];U&&(D=Array.isArray(U)?[...U]:[U]),M.addEventListener("input",J),M.addEventListener("submit",function(e){if(e.preventDefault(),i("order")||(0,m.Notify).failure("Please add items to cart"),function(e){let t=!0;for(let r=0;r<e.elements.length;r++){let n=e.elements[r];if("INPUT"===n.tagName||"TEXTAREA"===n.tagName){let e=n.value.trim();if(""===e){t=!1;break}}}return!!t||((0,m.Notify).failure("Please fill in all the fields!"),!1)}(e.currentTarget)&&i("order")){let t=i(k);t.order=i("order").map(e=>[e.id,e.shop]),console.log(t),e.currentTarget.reset();let r={login:t.email};r.order=i("order").map(e=>[e.img,e.name,e.price]),D.unshift(r),localStorage.setItem("history",JSON.stringify(D)),localStorage.removeItem(k),localStorage.removeItem("order"),A={},a.innerHTML="",s.style.display="none"}}),localStorage.getItem(k)&&function(e,t){let r=Object.keys(e);for(let n of r)t.elements[n].value=e[n]}(A=i(k),M)}();
//# sourceMappingURL=shopping-cart.ff1b2226.js.map
